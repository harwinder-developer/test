/*!  1.6.6 2018-09-17 16:19 */
!function(a){var b;window.formfield="",a(document.body).on("click",".charitable-upload-button",function(c){c.preventDefault();var d=a(this);return window.formfield=d,b?void b.open():(b=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",title:d.data("uploader-title"),button:{text:d.data("uploader-button-text")},library:{type:d.data("uploader-library")},multiple:!1}),b.on("menu:render:default",function(a){var b={};a.unset("library-separator"),a.unset("gallery"),a.unset("featured-image"),a.unset("embed"),a.unset("playlist"),a.unset("video-playlist"),a.set(b)}),b.on("insert",function(){var c=b.state().get("selection");c.each(function(b,c){b=b.toJSON();var e=d.data("uploader-attachment-id-field-name"),f=d.data("uploader-attachment-src-field-name"),g=d.data("uploader-attachment-preview-field");if("undefined"!=typeof e){var h=a("[name='"+e+"']");h.val(b.id)}if("undefined"!=typeof f){var i=a('[name="'+f+'"]');i.val(b.url)}if("undefined"!=typeof g){var j=a("#"+g);j.html('<img src="'+b.url+'" alt="" style="max-width:100%;" />')}})}),void b.open())});var b;window.formfield=""}(jQuery);